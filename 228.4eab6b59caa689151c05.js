(self.webpackChunksite=self.webpackChunksite||[]).push([[228],{5228:(e,t,i)=>{"use strict";i.r(t),i.d(t,{UdemoViewerModule:()=>J});var n=i(2897),s=i(847),a=i(4553),o=i(6728),c=i(4762),l=i(5366),r=i(1116),m=i(5976),u=i(7531),d=i(8670);function h(e,t){if(1&e&&(l.TgZ(0,"u-button",7),l._uU(1),l.qZA()),2&e){const e=t.$implicit,i=l.oxw();l.Q6J("uClick",i.changeOrder)("uClickArgs",e),l.xp6(1),l.AsE(" ",e.name," ",e.isAsc?"\u2191":"\u2193"," ")}}function p(e,t){if(1&e&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&e){const e=t.$implicit,i=l.oxw(2);l.Q6J("value",e),l.xp6(1),l.Oqu(i.columnDefs[e].name)}}function g(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"u-input",8),l.NdJ("change",function(t){return l.CHM(e),l.oxw().selectedOrder(t)}),l._UZ(1,"option"),l.YNc(2,p,2,2,"option",9),l.qZA()}if(2&e){const e=l.oxw();l.xp6(2),l.Q6J("ngForOf",e.orderColumnOptionIndexes)}}function f(e,t){1&e&&l.GkF(0)}const b=function(e){return{$implicit:e}};function x(e,t){if(1&e&&(l.ynx(0),l.YNc(1,f,1,0,"ng-container",11),l.BQk()),2&e){const e=t.$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",i.dataTemplate)("ngTemplateOutletContext",l.VKq(2,b,e))}}let v=(()=>{class e{constructor(e){this.element=e,this.lItemHeight=114,this.lItemWidth=0,this.lDatas=[],this.lColumnDefs=[],this.itemSize=114,this.showDatas=[],this.orderColumns=[],this.orderColumnOptionIndexes=[],this.changeOrder=(e,t)=>(0,c.mG)(this,void 0,void 0,function*(){if(t.isAsc){t.isAsc=!1;const e=this.orderColumnOptionIndexes.findIndex(e=>e===t.index);e>=0&&this.orderColumnOptionIndexes.splice(e,1)}else{const e=this.orderColumns.findIndex(e=>e.index===t.index);e>=0&&this.orderColumns.splice(e,1),this.orderColumnOptionIndexes.push(t.index)}this.refresh()})}get itemHeight(){return this.lItemHeight}set itemHeight(e){this.lItemHeight=e,this.calcItemSize()}get itemWidth(){return this.lItemWidth}set itemWidth(e){this.lItemWidth=e,this.calcItemSize()}get datas(){return this.lDatas}set datas(e){this.lDatas=e,this.refresh()}get columnDefs(){return this.lColumnDefs}set columnDefs(e){this.orderColumns=[],this.orderColumnOptionIndexes=[];for(let t=0;t<e.length;t++)e[t].index=t,e[t].disableSort||this.orderColumnOptionIndexes.push(t);this.lColumnDefs=e}ngAfterViewInit(){this.calcItemSize();const e=new ResizeObserver(e=>{e.forEach(e=>{this.calcItemSize()})}),t=this.element.nativeElement.getElementsByClassName("u-viewer-table-container")[0];e.observe(t)}calcItemSize(){this.itemSize=this.itemHeight,setTimeout(()=>{const e=this.element.nativeElement.getElementsByClassName("u-viewer-table-container")[0];let t=1;this.lItemWidth&&(t=Math.floor(e.offsetWidth/this.lItemWidth)),this.itemSize=Math.floor(this.itemHeight/t);const i=e.childNodes[0].childNodes[0];i.style.display="grid";let n="";for(let s=0;s<t;s++)n+="1fr ";i.style["grid-template-columns"]=n},0)}selectedOrder(e){const t=+e.target.value;this.orderColumns.push({index:t,name:this.columnDefs[t].name,isAsc:!0});const i=this.orderColumnOptionIndexes.findIndex(e=>e===t);i>=0&&this.orderColumnOptionIndexes.splice(i,1),this.refresh()}refresh(){this.showDatas=[...this.lDatas];for(let e=this.orderColumns.length-1;e>=0;e--){const t=this.orderColumns[e],i=this.columnDefs[t.index].id;this.showDatas.sort("number"===this.columnDefs[t.index].type?(e,n)=>t.isAsc?+e[i]>+n[i]?1:e[i]===n[i]?0:-1:+e[i]<+n[i]?1:e[i]===n[i]?0:-1:(e,n)=>t.isAsc?e[i]>n[i]?1:e[i]===n[i]?0:-1:e[i]<n[i]?1:e[i]===n[i]?0:-1)}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq))},e.\u0275cmp=l.Xpm({type:e,selectors:[["u-viewer"]],inputs:{itemHeight:"itemHeight",itemWidth:"itemWidth",datas:"datas",columnDefs:"columnDefs",dataTemplate:"dataTemplate",tableHeight:"tableHeight"},exportAs:["uViewer"],decls:12,vars:8,consts:[[1,"u-viewer"],[1,"u-viewer-sort"],[3,"uClick","uClickArgs",4,"ngFor","ngForOf"],["uType","select","style","display: inline-block;margin-bottom: 0px;",3,"change",4,"ngIf"],[1,"u-viewer-table-container"],[1,"u-viewer-table-scroll-container",3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"uClick","uClickArgs"],["uType","select",2,"display","inline-block","margin-bottom","0px",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"span"),l._uU(3,"\u6392\u5e8f:"),l.qZA(),l.YNc(4,h,2,4,"u-button",2),l.YNc(5,g,3,1,"u-input",3),l.TgZ(6,"span"),l._uU(7,"\u8fc7\u6ee4:"),l.qZA(),l.qZA(),l._UZ(8,"hr"),l.TgZ(9,"div",4),l.TgZ(10,"cdk-virtual-scroll-viewport",5),l.YNc(11,x,2,4,"ng-container",6),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(4),l.Q6J("ngForOf",t.orderColumns),l.xp6(1),l.Q6J("ngIf",t.orderColumnOptionIndexes.length>0),l.xp6(4),l.Udp("height",t.tableHeight),l.xp6(1),l.Q6J("itemSize",t.itemSize)("minBufferPx",5*t.itemHeight)("maxBufferPx",10*t.itemHeight),l.xp6(1),l.Q6J("cdkVirtualForOf",t.showDatas))},directives:[r.sg,r.O5,m.N7,m.xd,m.x0,u.e,d.$,o.YN,o.Kr,r.tP],encapsulation:2,changeDetection:0}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.ez,o.u5,m.Cl,a.m,s.m,n.l]]}),e})();var C=i(6686),Z=i(5021),T=i(8044);function A(e,t){if(1&e&&(l.TgZ(0,"div",4),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.lnq(" A: ",e.a," B: ",e.b," C: ",e.c," ")}}function D(e,t){if(1&e&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.lnq(" A: ",e.a," B: ",e.b," C: ",e.c," ")}}let I=(()=>{class e{constructor(){this.columnDefs=[{id:"a",name:"A",type:"number"},{id:"b",name:"B",disableSort:!0},{id:"c",name:"C"}],this.datas=[{a:"1",b:"11",c:"12"},{a:"2",b:"21",c:"22"},{a:"3",b:"31",c:"32"},{a:"11",b:"11",c:"12"},{a:"12",b:"21",c:"22"},{a:"13",b:"31",c:"32"},{a:"21",b:"11",c:"12"},{a:"22",b:"21",c:"22"},{a:"23",b:"31",c:"32"},{a:"31",b:"11",c:"12"},{a:"32",b:"21",c:"22"},{a:"33",b:"31",c:"32"},{a:"41",b:"11",c:"12"},{a:"42",b:"21",c:"22"},{a:"43",b:"31",c:"32"},{a:"51",b:"11",c:"12"},{a:"52",b:"21",c:"22"},{a:"53",b:"31",c:"32"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["udemo-viewer-basic"]],decls:7,vars:11,consts:[[3,"columnDefs","datas","dataTemplate","itemHeight","tableHeight"],["dataTmpl",""],[3,"columnDefs","datas","dataTemplate","itemHeight","itemWidth","tableHeight"],["dataTmpl2",""],[2,"height","40px"],[2,"height","40px","width","500px"]],template:function(e,t){if(1&e&&(l._UZ(0,"u-viewer",0),l.YNc(1,A,2,3,"ng-template",null,1,l.W1O),l._UZ(3,"br"),l._UZ(4,"u-viewer",2),l.YNc(5,D,2,3,"ng-template",null,3,l.W1O)),2&e){const e=l.MAs(2),i=l.MAs(6);l.Q6J("columnDefs",t.columnDefs)("datas",t.datas)("dataTemplate",e)("itemHeight",40)("tableHeight","200px"),l.xp6(4),l.Q6J("columnDefs",t.columnDefs)("datas",t.datas)("dataTemplate",i)("itemHeight",40)("itemWidth",500)("tableHeight","200px")}},directives:[v],encapsulation:2}),e})();var O=i(1111);let H=(()=>{class e{constructor(){this.basic=i(493).Z}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["udemo-viewer"]],decls:11,vars:1,consts:[["uTitle","\u6f14\u793a"],["uTitle","\u57fa\u672c\u4f7f\u7528","uOnlineUrl","s/ng-ueqt-grid-basic-299jd",3,"uCode"],["demo",""],["intro",""],["src","switch/basic.md"],["uTitle","Viewer \u89c6\u56fe"],["src","viewer/viewer.md"],["uTitle","API"],["src","viewer/viewer-api.md"]],template:function(e,t){1&e&&(l.TgZ(0,"u-tabs"),l.TgZ(1,"u-tab",0),l.TgZ(2,"udemo-code-box",1),l.TgZ(3,"div",2),l._UZ(4,"udemo-viewer-basic"),l.qZA(),l.TgZ(5,"div",3),l._UZ(6,"markdown",4),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"u-tab",5),l._UZ(8,"markdown",6),l.qZA(),l.TgZ(9,"u-tab",7),l._UZ(10,"markdown",8),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("uCode",t.basic))},directives:[C.p,Z.A,T.n,I,O.lF],encapsulation:2}),e})();var q=i(2432),k=i(2803),y=i(2693),U=i(691);const B=[{path:"",component:H}];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.ez,o.u5,k.Bz.forChild(B),y.JF,O.JP.forRoot({loader:y.eN}),q.h,U.Jd,w]]}),e})()},493:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n="import { UViewerColumnDef } from './../../../ng-ueqt/src/components/viewer/viewer.component';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'udemo-viewer-basic',\n  template: `\n  <u-viewer [columnDefs]=\"columnDefs\" [datas]=\"datas\" [dataTemplate]=\"dataTmpl\" [itemHeight]=\"40\" [tableHeight]=\"'200px'\">\n  </u-viewer>\n  <ng-template #dataTmpl let-data>\n      <div style=\"height: 40px;\"> \x3c!-- \u8fd9\u91cc\u9ad8\u5ea6\u8981\u548citemHeight\u4e00\u81f4 --\x3e\n      A: {{ data.a }}\n      B: {{ data.b }}\n      C: {{ data.c }}\n      </div>\n  </ng-template>\n\n  <br/>\n\n  <u-viewer [columnDefs]=\"columnDefs\" [datas]=\"datas\" [dataTemplate]=\"dataTmpl2\" [itemHeight]=\"40\" [itemWidth]=\"500\" [tableHeight]=\"'200px'\">\n  </u-viewer>\n  <ng-template #dataTmpl2 let-data>\n      <div style=\"height: 40px;width: 500px;\"> \x3c!-- \u8fd9\u91cc\u9ad8\u5ea6\u8981\u548citemHeight\u4e00\u81f4 --\x3e\n      A: {{ data.a }}\n      B: {{ data.b }}\n      C: {{ data.c }}\n      </div>\n  </ng-template>\n`\n})\nexport class UdemoViewerBasicComponent {\n  columnDefs: UViewerColumnDef[] = [\n    {\n      id: 'a',\n      name: 'A',\n      type: 'number'\n    },\n    {\n      id: 'b',\n      name: 'B',\n      disableSort: true\n    },\n    {\n      id: 'c',\n      name: 'C'\n    }\n  ];\n\n  datas = [\n    { a: '1', b: '11', c: '12' },\n    { a: '2', b: '21', c: '22' },\n    { a: '3', b: '31', c: '32' },\n    { a: '11', b: '11', c: '12' },\n    { a: '12', b: '21', c: '22' },\n    { a: '13', b: '31', c: '32' },\n    { a: '21', b: '11', c: '12' },\n    { a: '22', b: '21', c: '22' },\n    { a: '23', b: '31', c: '32' },\n    { a: '31', b: '11', c: '12' },\n    { a: '32', b: '21', c: '22' },\n    { a: '33', b: '31', c: '32' },\n    { a: '41', b: '11', c: '12' },\n    { a: '42', b: '21', c: '22' },\n    { a: '43', b: '31', c: '32' },\n    { a: '51', b: '11', c: '12' },\n    { a: '52', b: '21', c: '22' },\n    { a: '53', b: '31', c: '32' },\n  ];\n}\n"}}]);